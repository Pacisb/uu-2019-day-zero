<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Uncoast Unconf Day-Zero Workshop</title>
    <meta charset="utf-8" />
    <meta name="date" content="2019-04-14" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="extra.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Uncoast Unconf Day-Zero Workshop
## git and Github cornucopia
### 2019-04-14

---




## git

git is a version-control tool, typically used at the commandline. It's almost like a programming language, except it only does one thing (track changes to work). 

It allows you to "commit" changes to work, and associate descriptive messages with those stages of your work. 

There are other version control systems (most notably svn) but we're talking about git here because it works well with...

---

## GitHub

GitHub is a website where you can share code with people on the internet. It is closely coupled with git, but you can use git without GitHub, and vice versa. 

---

## Versions

&lt;img src="img/lego-steps.png" class='centered'&gt;

via [Mine Cetinkaya-Rundel](www2.stat.duke.edu/courses/Spring18/Sta199/)

---

## Versions

&lt;img src="img/lego-steps-commit-messages.png" class='centered'&gt;

via [Mine Cetinkaya-Rundel](www2.stat.duke.edu/courses/Spring18/Sta199/)

---

## What we're trying to avoid 

&lt;img src="img/phd101212s.gif" width='40%' class='centered'&gt;

[PhD comics](http://phdcomics.com/comics/archive.php?comicid=1531)

---

## What we're doing this morning 

A high-level overview (I'll get more specific in a minute)

1. Make sure everything is set up on your computer
2. Fork a GitHub repository (Jenny Bryan's [bingo R package](https://github.com/jennybc/bingo))
3. Clone it to your computer
4. Build the package locally 
5. Make changes 
6. Ensure the package still builds
7. Commit changes
8. Push changes to your fork of the repo
9. Submit a pull request

---

## Making sure everything is set up

In your RStudio, you should have a pane that has at least two tabs, one labeled Console and the other Terminal. The Console is just for `R` code, and the Terminal is more general, for commandline tools. We'll be trying to do everything in the Console, but the Terminal is our fallback for git code. 

Let's first make sure you have the `usethis` package. In your Console, type 


```r
library(usethis)
```

If you get an error, install the `usethis` package,


```r
install.packages("usethis")
```

Then, let's check the situation report on your current git/Github status. 

```{}
git_siterep()
```

Make sure that the User section at least knows your `Name` and `Email`. If one or both of those things are missing, flag one of us, and/or follow [Ian's day zero prep instructions](https://uncoast-unconf.github.io/uu-2019-day-zero/00-preparation/03-usethis/). 

---

## Fork and clone a repo

**Forking** a GitHub repository is essentially making your own copy of the code as it stands right now. 

&lt;img src="img/fork.png" width='75%' class='centered'&gt;


via [Jenny Bryan and Happy git with R](https://happygitwithr.com/)

---

## Fork and clone a repo
**Cloning** is getting the files onto your own computer

&lt;img src="img/clone-yours.png" width='75%' class='centered'&gt;

via [Jenny Bryan and Happy git with R](https://happygitwithr.com/)

---
## Fork and clone a repo
Usually you do them together,

&lt;img src="img/fork-and-clone.png" width='75%' class='centered'&gt;


via [Jenny Bryan and Happy git with R](https://happygitwithr.com/)

---

## Fork and clone a repo

There are several different ways to fork and clone a repo. We'll be following the `usethis` way, using the `create_from_github()` function. This does all the work for us! Run this code in your Console and watch what prints. 


```r
create_from_github("jennybc/bingo", protocol = "https")
```

---

## The bingo package

You should now have a new RStudio project open, containing the code from the `bingo` package. 

&lt;img src="img/bingo-code.png" width='80%' class='centered'&gt;

---

## The bingo package

You can also go on GitHub to view Jenny Bryan's version of the code, at [https://github.com/jennybc/bingo](https://github.com/jennybc/bingo) and *your* version of the code, at `https://github.com/[whatever your GitHub username is]/bingo`. For example, mine is at [https://github.com/AmeliaMN/bingo](https://github.com/AmeliaMN/bingo).

Right now, all these places look pretty much the same, but we're going to start contributing to the package. 

---

## Build tab

Notice that the RStudio project for `bingo` has a new tab, called Build. This is because our project is for a package. 

&lt;img src="img/build-tab.png" width='80%' class='centered'&gt;

---

## Install and Restart

Let's begin by installing the package locally and restarting our R. Click the "Install and Restart" button and watch what happens in the pane and in the Console. 




---

## Play with the package

This package doesn't do too terribly much, but you can try out some of the functions in the package, like


```r
get_topics()
```

```
##  [1] "bad-data"          "Bingo_Flowers"     "boring-meeting"   
##  [4] "conference-call"   "csama"             "football"         
##  [7] "july4th"           "manuscript-review" "open-data"        
## [10] "stat-ecology"      "useR-conf"         "WeeklyJump"
```

and then pick a topic to see the cards of, like


```r
get_topic("bad-data")
```

```
##  [1] "Blank/null values aren't explained"                
##  [2] "Data that \"must exist\" does not, in fact, exist" 
##  [3] "Data that \"cannot exist\" does, in fact, exist"   
##  [4] "Duplicate rows"                                    
##  [5] "Metric? Imperial? Ask the dust ..."                
##  [6] "65,535 or 2,147,483,647 or 4,294,967,295"          
##  [7] "555-3485 or 867-5309"                              
##  [8] "1970-01-01\nT00:00:00Z or 1969-12-31\nT23:59:59Z"  
##  [9] "January 1st, 1900 or January 1st, 1904"            
## [10] "Data is \"helpfully\" pre-aggregated"              
## [11] "Aggregates and computed totals don't match"        
## [12] "Line ending chaos ... \\n vs \\r\\n vs \\r"        
## [13] "Yo, I hear you like metadata mixed with your data" 
## [14] "Spreadsheet has exactly 65,536 rows"               
## [15] "Missing data that passes for real data, eg 0 or 99"
## [16] "Leading zeroes stripped to convert text to numbers"
## [17] "Inexplicable outliers"                             
## [18] "Garbled text suggests encoding problems"           
## [19] "Data disguised as formatting"                      
## [20] "Ambiguous American date formats, eg 03/04/16"      
## [21] "\"Virgin Birth\", ie no provenance"                
## [22] "Location of 0°N 0°E, ie \"Null Island\""           
## [23] "Spelling mistakes that reek of hand-typed data"    
## [24] "US zip codes 12345 or 90210"
```

---

## Pull request

Our eventual goal is to create a "pull request," to request that the GitHub repo owner (Jenny Bryan) incorporates our changes. 

&lt;img src="img/fork-triangle-happy.png" width='73%' class='centered'&gt;

via [Jenny Bryan and Happy git with R](https://happygitwithr.com/)

---

## Making a change

I'm not going to talk about all the pieces of a package-- we'll get to that later today! So for now, just navigate into `bingo/inst/topics` (a folder within a folder in your Files pane) and click on one of the `.R` files there. It's
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"ratio": "16:9",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
